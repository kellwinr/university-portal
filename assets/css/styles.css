:root {
  --utar-navy: #0a2a66;
  --utar-navy-2: #041a44;
  --utar-gold: #f0b400;

  --ink: #1d1d1f;
  --ink-soft: rgba(255,255,255,.85);
  --muted: #6e6e73;
  --stroke: #e6e6ea;
  --stroke-strong: #d8d8de;
  --surface: #ffffff;
  --glass: rgba(255,255,255,0.60);
  --link: #0a4bd3;

  --accent: #2a66ff;
  --accent-2: #00b1ff;

  --glass-blur: 18px;
  --radius-lg: 20px;
  --radius-md: 12px;
  --shadow: 0 16px 40px rgba(0,0,0,.16);

  /* Fluid scaling helpers */
  --scale-factor: clamp(0.8, 1.2vw + 0.6, 1.1);
}

/* ---------- Reset ---------- */
* { box-sizing: border-box; }
html, body { height: 100%; }
img { max-width: 100%; height: auto; display: block; }

/* ---------- Base Layout & Background ---------- */
body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", system-ui, sans-serif;
  color: var(--ink);
  background:
    radial-gradient(1200px 600px at 50% 22%, rgba(255,255,255,.10), transparent 60%),
    radial-gradient(800px 400px at 50% 85%, rgba(255,255,255,.08), transparent 60%),
    linear-gradient(180deg, #0a1e55 0%, #0f2a7a 100%);
  display: flex;
  flex-direction: column;
  align-items: center;
  min-height: 100vh;
  padding: 24px;
}

/* Constrained containers for dashboards and general pages */
header, .glass-panel, footer {
  width: 92%;
  max-width: 1100px;
  align-self: center;
}

/* ---------- Header (Glass) ---------- */
header {
  margin-top: 40px;
  background: rgba(255,255,255,.10);
  border: 1px solid rgba(255,255,255,.22);
  border-radius: 16px;
  box-shadow: 0 6px 18px rgba(0,0,0,.16);
  backdrop-filter: blur(20px) saturate(140%);
  -webkit-backdrop-filter: blur(20px) saturate(140%);
  padding: 12px 24px;
  position: relative;
  z-index: 3;

  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  column-gap: 16px;
  overflow: visible;
}
.logo-section { display:flex; align-items:center; gap:12px; }
.logo-section img { height:56px; width:auto; object-fit:contain; border-radius:12px; }
.logo-text { color:#fff; font-weight:700; line-height:1.15; font-size:16px; }
.logo-text small { display:block; color:rgba(255,255,255,.85); font-size:13px; font-weight:500; }

/* ---------- Top Nav ---------- */
.menu-bar {
  display:flex; align-items:center; gap:10px; justify-self:center; min-width:0;
}
.menu-item { position:relative; }
.menu-item > .menu-trigger {
  color:#fff; text-decoration:none; font-weight:600; font-size:14px;
  padding:8px 14px; border-radius:10px;
  background:rgba(255,255,255,0.08);
  border:1px solid rgba(255,255,255,0.25);
  transition: all .25s ease;
  backdrop-filter: blur(10px) saturate(130%);
}
.menu-item > .menu-trigger:hover,
.menu-item.open > .menu-trigger {
  background: rgba(255,255,255,0.22);
  color: var(--utar-navy);
  box-shadow: 0 6px 16px rgba(0,0,0,.25);
}

/* ---------- Frosted Dropdown (portal, true blur, no ghosting) ---------- */
.dropdown {
  position: fixed;                 /* viewport coords; JS sets left/top */
  min-width: 260px;

  background: rgba(255,255,255,0.38);
  -webkit-backdrop-filter: blur(22px) saturate(140%) contrast(105%);
          backdrop-filter: blur(22px) saturate(140%) contrast(105%);
  border: 1px solid rgba(255,255,255,0.55);
  border-radius: 14px;
  box-shadow: 0 18px 44px rgba(0,0,0,0.28);
  overflow: hidden;
  z-index: 2147483647;

  /* hidden state — remove from paint to avoid Safari blur ghosts */
  display: none;
  opacity: 0;
  transform: translateY(6px) scale(.98);
  pointer-events: none;
  transition: opacity .16s ease, transform .16s ease;
}

.dropdown.is-open {
  display: block;                  /* now it can paint */
  opacity: 1;
  transform: translateY(0) scale(1);
  pointer-events: auto;
}

.dropdown a {
  display: block;
  padding: 12px 18px;
  color: #1d1d1f;
  text-decoration: none;
  font-weight: 700;
  transition: background .12s ease;
}
.dropdown a + a { border-top: 1px solid rgba(0,0,0,.06); }
.dropdown a:hover { background: rgba(255,255,255,0.55); }

/* Fallback if no backdrop-filter support */
@supports not ((-webkit-backdrop-filter: blur(1px)) or (backdrop-filter: blur(1px))) {
  .dropdown { background: rgba(255,255,255,.95); }
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .dropdown { transition: none; transform: none; }
}

/* ---------- User Area (Header, optional) ---------- */
header .user-info { display:flex; align-items:center; gap:10px; color:rgba(255,255,255,.92); justify-self:end; }
header .user-info .id-chip{
  background: rgba(255,255,255,.14); color:#fff; border:1px solid rgba(255,255,255,.28);
  border-radius:999px; padding:6px 12px; font-weight:700; letter-spacing:.2px;
  backdrop-filter: blur(10px) saturate(130%); -webkit-backdrop-filter: blur(10px) saturate(130%);
  box-shadow: 0 2px 8px rgba(0,0,0,.22);
}
header .user-info .logout-btn{
  appearance:none; -webkit-appearance:none; white-space:nowrap; cursor:pointer;
  background: linear-gradient(180deg,#ffffff,#e9edf9);
  color:#0a2a66; border:1px solid rgba(255,255,255,.6);
  border-radius:12px; padding:6px 12px; font-weight:700;
  box-shadow:0 4px 12px rgba(0,0,0,.18);
  transition: transform .15s ease, box-shadow .15s ease;
}
header .user-info .logout-btn:hover{ transform: translateY(-1px); box-shadow:0 8px 22px rgba(0,0,0,.25); }

/* Compact header on tighter screens */
header { padding: 10px 16px; }
.menu-bar .menu-trigger { font-size: 13px; padding: 6px 12px; border-radius: 9px; }
@media (max-width: 720px) {
  header { grid-template-columns: 1fr; row-gap: 10px; justify-items: center; }
  .logo-section, .user-info { justify-self: center; }
  .menu-bar { flex-wrap: wrap; justify-content: center; }
}
@media (max-width: 1100px){
  .menu-bar .menu-trigger{ font-size:12.5px; padding:6px 10px; }
  header .user-info .id-chip{ font-size:12.5px; padding:3px 9px; }
  header .user-info .logout-btn{ font-size:12.5px; padding:6px 9px; }
}

/* ---------- Glass Panel / Dashboard ---------- */
.glass-panel {
  margin-top: 32px;
  background: var(--glass);
  border: 1px solid rgba(0,0,0,.08);
  border-radius: 16px;
  box-shadow: 0 8px 24px rgba(0,0,0,.12);
  backdrop-filter: blur(14px) saturate(115%);
  -webkit-backdrop-filter: blur(14px) saturate(115%);
  padding: 32px;
  position: relative;
  z-index: 1;
}
.greeting { text-align:center; font-size:28px; font-weight:700; color:#1d1d1f; margin:0 0 6px; }
.desc { text-align:center; color:#555; margin:0 0 28px; }

.dashboard-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 24px;
  align-items: start;
}
.dashboard-grid .card {
  background: var(--surface);
  border: 1px solid var(--stroke);
  border-radius: 10px;
  box-shadow: 0 1px 2px rgba(0,0,0,.04);
  padding: 20px;
  height: 100%;
}
.dashboard-grid .card h3 {
  margin: 0 0 12px;
  font-size: 16px;
  font-weight: 700;
  color: var(--ink);
  text-align: left;
}
.quick-links { display:block; margin-top:12px; }
.quick-links a {
  display:block; padding:12px 0; text-align:left; color:#0a2a66; font-weight:600; text-decoration:none;
  border-bottom:1px solid #efeff2;
}
.quick-links a:last-child { border-bottom: 0; }
.quick-links a:hover { background: rgba(0,0,0,0.03); }

/* ---------- Footer (generic on dashboard pages) ---------- */
footer {
  margin-top: 28px;
  padding: 16px 24px;
  background: rgba(255,255,255,.08);
  border-radius: 20px;
  color: #e6e6e6;
  font-size: 13px;
  text-align: center;
  box-shadow: 0 4px 20px rgba(0,0,0,.25);
}

/* ---------- Animations ---------- */
@keyframes fadeIn { from { opacity:0; transform:translateY(6px);} to { opacity:1; transform:none;} }
@keyframes rise   { from { opacity:0; transform:translateY(12px);} to { opacity:1; transform:translateY(0);} }
@keyframes floatIn{ from { opacity:0; transform:translateY(10px);} to { opacity:1; transform:none;} }

/* =========================================================
   LOGIN PAGE OVERRIDES
   - Applies when the login form exists on the page
   ========================================================= */
body.login,
body:has(#login-form) {
  display: flex !important;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 100svh;
  margin: 0; padding: 0;
}

/* Center card wrapper used in your HTML */
main.card { width: 100%; max-width: 1100px; }

/* Logo “glass chip” */
.logo-well{ display:flex; justify-content:center; margin: 0 0 16px; }
.logo-well img{
  max-width: clamp(150px, 21vw, 260px);
  width: 60vw;
  background: rgba(255,255,255,.10);
  border: 1px solid rgba(255,255,255,.22);
  border-radius: 18px;
  padding: 10px 14px;
  backdrop-filter: blur(14px) saturate(135%);
  -webkit-backdrop-filter: blur(14px) saturate(135%);
  box-shadow:
    0 20px 50px rgba(0,0,0,.35),
    0 0 0 6px rgba(255,255,255,.03) inset;
  transition: transform .25s ease, box-shadow .25s ease;
  animation: floatIn .32s ease both;
}
.logo-well img:hover{
  transform: translateY(-2px);
  box-shadow:
    0 28px 60px rgba(0,0,0,.42),
    0 0 0 6px rgba(255,255,255,.05) inset;
}

/* Headings */
.card h1{
  letter-spacing:.02em; font-weight:800;
  background: linear-gradient(180deg, #fff 0%, #cfe0ff 100%);
  -webkit-background-clip: text; background-clip: text; color: transparent;
  text-shadow: 0 2px 12px rgba(0,0,0,.25);
  margin: 6px 0 2px; line-height:1.15; text-align:center;
  animation: floatIn .32s ease both .03s;
}
.card h2{
  color: var(--ink-soft); font-weight:700;
  margin: 0 0 16px; line-height:1.2; text-align:center;
  animation: floatIn .32s ease both .06s;
}

/* Login card */
#login-form{
  margin: 0 auto;
  width: clamp(320px, 55vw, 440px);
  padding: clamp(16px, 3vw, 24px);
  border-radius: 20px;
  text-align: left;

  /* glass border trick */
  background:
    linear-gradient(#ffffff, #ffffff) padding-box,
    linear-gradient(180deg, rgba(255,255,255,.55), rgba(255,255,255,.15)) border-box;
  border: 1px solid transparent;
  box-shadow:
    0 18px 50px rgba(0,0,0,.28),
    0 1px 0 rgba(255,255,255,.5) inset;

  backdrop-filter: blur(var(--glass-blur)) saturate(120%);
  -webkit-backdrop-filter: blur(var(--glass-blur)) saturate(120%);
  display: grid; row-gap: 14px;

  position: relative; isolation: isolate;
  animation: floatIn .32s ease both .09s;
}
#login-form::before{
  content:""; position:absolute; inset:-60px -80px; z-index:-1;
  background: radial-gradient(420px 280px at 50% 20%, rgba(255,255,255,.16), transparent 60%);
  filter: blur(20px); pointer-events:none;
}

/* Fields */
#login-form .field { display:grid; row-gap:6px; }
#login-form label { font-size:13px; color:#4d4d50; }
#login-form input[type="text"],
#login-form input[type="password"],
#login-form input[type="email"]{
  width:100%;
  padding: 12px 14px;
  border-radius: clamp(10px, 1vw, 14px);
  border:1px solid #d9dbe7;
  background: linear-gradient(180deg,#fff,#f7f8fc);
  color: var(--ink);
  font-size: clamp(14px, 1vw + 0.4rem, 16px);
  outline: none;
  transition: box-shadow .16s ease, border-color .16s ease, transform .16s ease;
}
#login-form input::placeholder{ color:#888; }
#login-form input:focus{
  border-color:#9bb4ff;
  box-shadow:
    0 0 0 3px rgba(42,102,255,.18),
    0 1px 0 rgba(255,255,255,.9) inset;
  transform: translateY(-1px);
}

/* Actions */
#login-form .actions { display:grid; }
#login-form .btn,
#login-form button[type="submit"]{
  width:100%;
  -webkit-appearance:none; appearance:none;
  padding: clamp(10px, 2vw, 14px);
  border:0; border-radius:14px;
  font-size:16px; font-weight:700; color:#fff; cursor:pointer;
  background: linear-gradient(180deg, #2a66ff, #0e2f86);
  box-shadow:
    0 12px 28px rgba(14,47,134,.45),
    0 1px 0 rgba(255,255,255,.25) inset;
  transition: transform .12s ease, box-shadow .18s ease;
  margin-top: 6px;
  position: relative; overflow: hidden;
}
#login-form .btn::after{
  content:""; position:absolute; inset:0;
  background: linear-gradient(120deg, transparent 0%, rgba(255,255,255,.22) 40%, transparent 80%);
  transform: translateX(-120%); transition: transform .6s ease;
}
#login-form .btn:hover{ transform: translateY(-1px); box-shadow: 0 16px 36px rgba(14,47,134,.55), 0 1px 0 rgba(255,255,255,.25) inset; }
#login-form .btn:hover::after{ transform: translateX(120%); }
#login-form .btn:active{ transform: translateY(1px) scale(.995); }

#login-form .actions .aux { margin-top:12px; justify-self:start; }
#login-form .actions .aux a { color: var(--accent); font-weight:600; text-decoration:none; }
#login-form .actions .aux a:hover{ text-decoration: underline; }

#status { font-size:13px; min-height:1.2em; text-align:center; }
#status:empty { display:none; }

/* Login footer bubble (centered glass chip) */
footer.footer, #copyright {
  display:flex; align-items:center; justify-content:center; gap:4px;
  width: fit-content; max-width:92%;
  margin:22px auto 0; padding: clamp(8px, 2vw, 12px) clamp(14px, 3vw, 18px);
  color: rgba(255,255,255,.90); font-size: clamp(12px, 0.5vw + 0.6rem, 14px); text-align:center;

  background: linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.06));
  border:1px solid rgba(255,255,255,.22);
  border-radius: clamp(10px, 1vw, 14px);
  backdrop-filter: blur(14px) saturate(130%);
  -webkit-backdrop-filter: blur(14px) saturate(130%);
  box-shadow: 0 10px 24px rgba(0,0,0,.28);
  transition: transform .25s ease, box-shadow .25s ease;
  animation: floatIn .32s ease both .12s;
}
footer.footer:hover, #copyright:hover { transform: translateY(-2px); box-shadow: 0 8px 26px rgba(0,0,0,.35); }

/* Keep only the glass bubble on login page if other footers exist */
body.login footer:not(#copyright),
body:has(#login-form) footer:not(#copyright) { display: none; }

/* Mobile polish */
@media (max-width: 480px){
  .logo-well img { max-width: 200px; width: 70vw; padding: 9px 12px; }
  #login-form { width: 92%; padding: 18px 14px; }
}

/* =========================================================
   PASSWORD TOGGLE — Minimal SVG Eye (pixel-perfect)
   Works with this HTML chunk in the password field:
   <div class="field pwd-wrap">
     <label for="pwd">Password</label>
     <input id="pwd" ...>
     <button type="button" class="pwd-toggle"> [two SVGs] </button>
   </div>
   ========================================================= */

.pwd-wrap { position: relative; }

/* Give the caret/text room so it never hits the icon */
.pwd-wrap > input[type="password"],
.pwd-wrap > input[type="text"]{
  padding-right: 56px !important;
  line-height: 1.25;
}

/* Button centered vertically, flush to the right inside the input */
.pwd-toggle{
  position: absolute;
  right: 14px; top: 50%;
  transform: translateY(-50%);
  width: 32px; height: 32px;
  display: inline-flex; align-items: center; justify-content: center;
  border: 0; background: none; border-radius: 50%;
  color: #274bb7; cursor: pointer;
  -webkit-appearance: none; appearance: none;
  transition: background .15s ease, transform .12s ease, color .15s ease;
}
.pwd-toggle:hover{ background: rgba(39,75,183,.08); }
.pwd-toggle:active{ transform: translateY(calc(-50% + 1px)); }

.pwd-toggle svg{
  width: 18px; height: 18px;
  stroke: currentColor; stroke-width: 1.8;
  stroke-linecap: round; stroke-linejoin: round;
  vector-effect: non-scaling-stroke;
}

/* Swap glyphs when “visible” class is toggled in JS */
.icon-eye-off{ display:none; }
.pwd-toggle.visible .icon-eye{ display:none; }
.pwd-toggle.visible .icon-eye-off{ display:block; }

/* Safari/iOS half-pixel optical balance */
@supports (-webkit-touch-callout: none) {
  .pwd-toggle{ top: calc(50% - .5px); }
}
