:root{
  --utar-navy:#0a2a66;
  --utar-navy-2:#041a44;
  --utar-gold:#f0b400;

  --ink:#1d1d1f;
  --ink-soft:rgba(255,255,255,.85);
  --muted:#6e6e73;
  --stroke:#e6e6ea;
  --stroke-strong:#d8d8de;
  --surface:#ffffff;
  --glass:rgba(255,255,255,.60);
  --link:#0a4bd3;

  --accent:#2a66ff;
  --accent-2:#00b1ff;

  --glass-blur:18px;
  --radius-lg:20px;
  --radius-md:12px;
  --shadow:0 16px 40px rgba(0,0,0,.16);

  /* Dropdown width (JS may update) */
  --menuW:300px;
}

/* ---------- Reset ---------- */
*{ box-sizing:border-box; }
html,body{ height:100%; }
img{ max-width:100%; height:auto; display:block; }

/* ---------- Base Layout & Background ---------- */
body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"SF Pro Text",system-ui,sans-serif;
  color:var(--ink);
  background:
    radial-gradient(1200px 600px at 50% 22%, rgba(255,255,255,.10), transparent 60%),
    radial-gradient(800px 400px at 50% 85%, rgba(255,255,255,.08), transparent 60%),
    linear-gradient(180deg,#0a1e55 0%,#0f2a7a 100%);
  display:flex; flex-direction:column; align-items:center;
  min-height:100vh; padding:24px;
}

/* Constrained page containers */
header.tworow, .glass-panel, footer{
  width:92%; max-width:1100px; align-self:center;
}

/* =========================================================
   HEADER (Two-row Layout)
   Row 1: logo (left) • utilities (right)
   Row 2: full-width nav
   ========================================================= */
header.tworow{
  margin-top:40px;
  background:rgba(255,255,255,.10);
  border:1px solid rgba(255,255,255,.22);
  border-radius:16px;
  box-shadow:0 6px 18px rgba(0,0,0,.16);
  backdrop-filter:blur(20px) saturate(140%);
  -webkit-backdrop-filter:blur(20px) saturate(140%);
  padding:12px 24px;
  position:relative; z-index:3; overflow:visible;

  display:grid;
  grid-template-columns:auto 1fr auto;
  grid-template-rows:auto auto;
  grid-template-areas:
    "logo . utils"
    "nav  nav nav";
  align-items:center;
  row-gap:10px; column-gap:16px;
}

/* Row placement */
header.tworow .logo-section{
  grid-area:logo; display:flex; align-items:center; gap:12px;
}
header.tworow .top-utils{
  grid-area:utils; justify-self:end;
  display:flex; align-items:center; gap:12px;
  min-height:38px; min-width:0;          /* allow shrinking */
}
header.tworow .menu-bar{
  grid-area:nav; justify-self:stretch; width:100%; min-width:0;
  display:flex; align-items:center; flex-wrap:wrap;
  justify-content:flex-start; gap:12px;
  padding-top:6px; border-top:1px solid rgba(255,255,255,.25);
}

/* Logo block */
.logo-section img{
  height:clamp(44px,6vw,56px); width:auto; object-fit:contain; border-radius:12px;
}
.logo-text{ color:#fff; font-weight:800; line-height:1.1; font-size:16px; letter-spacing:.2px; }
.logo-text small{ display:block; color:rgba(255,255,255,.85); font-size:13px; font-weight:600; }

/* Utilities */
.portal-search input[type="search"]{
  width:clamp(220px,28vw,420px); min-width:180px;
  padding:8px 12px; border-radius:12px;
  border:1px solid rgba(255,255,255,.35);
  background:rgba(255,255,255,.12); color:#fff; outline:none;
  backdrop-filter:blur(8px) saturate(120%);
}
.portal-search input::placeholder{ color:rgba(255,255,255,.75); }

.icon-btn{
  position:relative; display:inline-flex; align-items:center; justify-content:center;
  width:38px; height:34px; border-radius:10px; cursor:pointer;
  border:1px solid rgba(255,255,255,.35); background:rgba(255,255,255,.10); color:#fff;
  transition:transform .15s, box-shadow .2s, background .2s;
  backdrop-filter:blur(8px) saturate(120%);
}
.icon-btn:hover{ transform:translateY(-1px); box-shadow:0 6px 16px rgba(0,0,0,.25); }
.icon-btn .badge{
  position:absolute; top:-6px; right:-6px; min-width:18px; height:18px; padding:0 5px;
  border-radius:999px; background:#ff3b30; color:#fff; font-size:11px; font-weight:800;
  display:inline-flex; align-items:center; justify-content:center; border:2px solid rgba(10,26,107,.85);
}
header.tworow .id-chip{
  background:rgba(255,255,255,.14); color:#fff; border:1px solid rgba(255,255,255,.28);
  border-radius:999px; padding:6px 12px; font-weight:800; letter-spacing:.2px;
  backdrop-filter:blur(10px) saturate(130%); -webkit-backdrop-filter:blur(10px) saturate(130%);
  box-shadow:0 2px 8px rgba(0,0,0,.22);
}
.avatar-trigger{ padding:0 !important; border:0 !important; background:transparent !important; }
.avatar{ width:34px; height:34px; border-radius:50%; display:block; border:1px solid rgba(255,255,255,.35); }

/* ---------- Nav chips ---------- */
.menu-item{ position:relative; flex:0 0 auto; max-width:none; }
.menu-item > .menu-trigger{
  color:#fff; text-decoration:none; font-weight:700; font-size:14px;
  padding:8px 14px; border-radius:10px;
  white-space:nowrap; outline:none;
  background:rgba(255,255,255,0.08);
  border:1px solid rgba(255,255,255,0.25);
  transition:all .25s ease;
  backdrop-filter:blur(10px) saturate(130%);
}
.menu-item > .menu-trigger:hover,
.menu-item.open > .menu-trigger{
  background:rgba(255,255,255,0.22); color:var(--utar-navy);
  box-shadow:0 6px 16px rgba(0,0,0,.25);
}
/* Accessible but tidy focus */
.menu-item > .menu-trigger:focus-visible{
  box-shadow:0 0 0 2px rgba(255,255,255,.35), 0 0 0 4px rgba(10,42,102,.35);
}

/* =========================================================
   Dropdown (portal + frosted)
   ========================================================= */
.dropdown{
  position:fixed; min-width:260px; width:var(--menuW); box-sizing:border-box;
  background:linear-gradient(180deg, rgba(255,255,255,0.65) 0%, rgba(255,255,255,0.35) 100%);
  -webkit-backdrop-filter:blur(22px) saturate(140%) contrast(105%);
          backdrop-filter:blur(22px) saturate(140%) contrast(105%);
  border:1px solid rgba(255,255,255,0.55);
  border-radius:14px;
  box-shadow:
    0 1px 0 rgba(255,255,255,0.65) inset,
    0 -1px 0 rgba(0,0,0,0.05) inset,
    0 18px 44px rgba(0,0,0,0.28);
  overflow:hidden; z-index:2147483647;

  /* hidden state to prevent blur ghosting */
  display:none; opacity:0; transform:translateY(6px) scale(.98);
  pointer-events:none; transition:opacity .16s ease, transform .16s ease;

  max-height:70vh; overflow-y:auto; overscroll-behavior:contain; scrollbar-width:thin;
}
.dropdown.is-open{ display:block; opacity:1; transform:translateY(0) scale(1); pointer-events:auto; }

.dropdown a{
  display:flex; align-items:center;
  min-height:46px; padding:10px 16px; line-height:1.2;
  color:#1d1d1f; text-decoration:none; font-weight:800;
  white-space:nowrap; text-overflow:ellipsis; overflow:hidden;
  transition:background .12s ease, color .12s ease;
}
.dropdown a + a{ border-top:1px solid rgba(0,0,0,.06); }
.dropdown a:hover{ background:linear-gradient(180deg, rgba(255,255,255,0.7), rgba(255,255,255,0.45)); color:var(--utar-navy); }

.dropdown::-webkit-scrollbar{ width:10px; }
.dropdown::-webkit-scrollbar-track{ background:transparent; }
.dropdown::-webkit-scrollbar-thumb{
  background:rgba(0,0,0,.12); border-radius:10px; border:2px solid transparent; background-clip:padding-box;
}
.dropdown:hover::-webkit-scrollbar-thumb{ background:rgba(0,0,0,.2); }

@supports not ((-webkit-backdrop-filter: blur(1px)) or (backdrop-filter: blur(1px))){
  .dropdown{ background:rgba(255,255,255,.95); box-shadow:0 10px 28px rgba(0,0,0,0.3); }
}

/* =========================================================
   Main “Glass” Panel (Dashboard)
   ========================================================= */
.glass-panel{
  margin-top:32px; background:var(--glass);
  border:1px solid rgba(0,0,0,.08); border-radius:16px; box-shadow:0 8px 24px rgba(0,0,0,.12);
  backdrop-filter:blur(14px) saturate(115%); -webkit-backdrop-filter:blur(14px) saturate(115%);
  padding:32px; position:relative; z-index:1;
}
.greeting{ text-align:center; font-size:28px; font-weight:800; color:#1d1d1f; margin:0 0 6px; }
.desc{ text-align:center; color:#555; margin:0 0 28px; }

.dashboard-grid{ display:grid; grid-template-columns:1fr 1fr; gap:24px; align-items:start; }
.card{
  background:var(--surface); border:1px solid var(--stroke);
  border-radius:12px; box-shadow:0 1px 2px rgba(0,0,0,.04);
  padding:20px; height:100%;
}
.card h3{ margin:0 0 12px; font-size:16px; font-weight:800; color:#111; }

.quick-links{ display:block; margin-top:12px; }
.quick-links a{
  display:block; padding:12px 0; text-align:left; color:#0a2a66; font-weight:700; text-decoration:none;
  border-bottom:1px solid #efeff2;
}
.quick-links a:last-child{ border-bottom:0; }
.quick-links a:hover{ background:rgba(0,0,0,0.03); }

.table-compact{ width:100%; border-collapse:collapse; }
.table-compact th,.table-compact td{ padding:8px 10px; border-bottom:1px solid #efeff2; text-align:left; font-size:14px; }
.table-compact thead th{ font-weight:800; color:#2a2a2a; }

.snapshot{ display:grid; grid-template-columns:1fr 1fr; gap:10px; margin-top:6px; }
.snapshot span{ display:block; color:#6e6e73; font-size:12px; }
.snapshot strong{ font-size:15px; }
.link-more{ display:inline-block; margin-top:10px; font-weight:800; color:#0a4bd3; text-decoration:none; }
.link-more:hover{ text-decoration:underline; }

/* =========================================================
   Footer
   ========================================================= */
footer{
  margin-top:28px; padding:16px 24px;
  background:rgba(255,255,255,.08); border-radius:20px; color:#e6e6e6;
  font-size:13px; text-align:center; box-shadow:0 4px 20px rgba(0,0,0,.25);
}

/* =========================================================
   Animations
   ========================================================= */
@keyframes fadeIn{ from{ opacity:0; transform:translateY(6px);} to{ opacity:1; transform:none;} }
@keyframes rise  { from{ opacity:0; transform:translateY(12px);} to{ opacity:1; transform:translateY(0);} }
@keyframes floatIn{ from{ opacity:0; transform:translateY(10px);} to{ opacity:1; transform:none;} }

/* =========================================================
   Login Page Overrides (optional; safe to keep)
   ========================================================= */
body.login,
body:has(#login-form){
  display:flex !important; flex-direction:column; align-items:center; justify-content:center;
  min-height:100svh; margin:0; padding:0;
}
main.card{ width:100%; max-width:1100px; }

.logo-well{ display:flex; justify-content:center; margin:0 0 16px; }
.logo-well img{
  max-width:clamp(150px,21vw,260px); width:60vw;
  background:rgba(255,255,255,.10); border:1px solid rgba(255,255,255,.22);
  border-radius:18px; padding:10px 14px;
  backdrop-filter:blur(14px) saturate(135%); -webkit-backdrop-filter:blur(14px) saturate(135%);
  box-shadow:0 20px 50px rgba(0,0,0,.35), 0 0 0 6px rgba(255,255,255,.03) inset;
  transition:transform .25s ease, box-shadow .25s ease; animation:floatIn .32s ease both;
}
.logo-well img:hover{ transform:translateY(-2px); box-shadow:0 28px 60px rgba(0,0,0,.42), 0 0 0 6px rgba(255,255,255,.05) inset; }

.card h1{
  letter-spacing:.02em; font-weight:800;
  background:linear-gradient(180deg,#fff 0%,#cfe0ff 100%);
  -webkit-background-clip:text; background-clip:text; color:transparent;
  text-shadow:0 2px 12px rgba(0,0,0,.25); margin:6px 0 2px; line-height:1.15; text-align:center;
  animation:floatIn .32s ease both .03s;
}
.card h2{
  color:var(--ink-soft); font-weight:700; margin:0 0 16px; line-height:1.2; text-align:center;
  animation:floatIn .32s ease both .06s;
}

#login-form{
  margin:0 auto; width:clamp(320px,55vw,440px);
  padding:clamp(16px,3vw,24px); border-radius:20px; text-align:left;
  background:
    linear-gradient(#ffffff,#ffffff) padding-box,
    linear-gradient(180deg, rgba(255,255,255,.55), rgba(255,255,255,.15)) border-box;
  border:1px solid transparent;
  box-shadow:0 18px 50px rgba(0,0,0,.28), 0 1px 0 rgba(255,255,255,.5) inset;
  backdrop-filter:blur(var(--glass-blur)) saturate(120%); -webkit-backdrop-filter:blur(var(--glass-blur)) saturate(120%);
  display:grid; row-gap:14px; position:relative; isolation:isolate; animation:floatIn .32s ease both .09s;
}
#login-form::before{
  content:""; position:absolute; inset:-60px -80px; z-index:-1;
  background:radial-gradient(420px 280px at 50% 20%, rgba(255,255,255,.16), transparent 60%);
  filter:blur(20px); pointer-events:none;
}
#login-form .field{ display:grid; row-gap:6px; }
#login-form label{ font-size:13px; color:#4d4d50; }
#login-form input[type="text"],
#login-form input[type="password"],
#login-form input[type="email"]{
  width:100%; padding:12px 14px; border-radius:clamp(10px,1vw,14px);
  border:1px solid #d9dbe7; background:linear-gradient(180deg,#fff,#f7f8fc); color:var(--ink);
  font-size:clamp(14px, 1vw + 0.4rem, 16px); outline:none;
  transition:box-shadow .16s ease, border-color .16s ease, transform .16s ease;
}
#login-form input::placeholder{ color:#888; }
#login-form input:focus{
  border-color:#9bb4ff;
  box-shadow:0 0 0 3px rgba(42,102,255,.18), 0 1px 0 rgba(255,255,255,.9) inset;
  transform:translateY(-1px);
}
#login-form .actions{ display:grid; }
#login-form .btn,
#login-form button[type="submit"]{
  width:100%; -webkit-appearance:none; appearance:none;
  padding:clamp(10px, 2vw, 14px); border:0; border-radius:14px;
  font-size:16px; font-weight:700; color:#fff; cursor:pointer;
  background:linear-gradient(180deg,#2a66ff,#0e2f86);
  box-shadow:0 12px 28px rgba(14,47,134,.45), 0 1px 0 rgba(255,255,255,.25) inset;
  transition:transform .12s ease, box-shadow .18s ease; margin-top:6px; position:relative; overflow:hidden;
}
#login-form .btn::after{
  content:""; position:absolute; inset:0;
  background:linear-gradient(120deg, transparent 0%, rgba(255,255,255,.22) 40%, transparent 80%);
  transform:translateX(-120%); transition:transform .6s ease;
}
#login-form .btn:hover{ transform:translateY(-1px); box-shadow:0 16px 36px rgba(14,47,134,.55), 0 1px 0 rgba(255,255,255,.25) inset; }
#login-form .btn:hover::after{ transform:translateX(120%); }
#login-form .btn:active{ transform:translateY(1px) scale(.995); }
#login-form .actions .aux{ margin-top:12px; justify-self:start; }
#login-form .actions .aux a{ color:var(--accent); font-weight:600; text-decoration:none; }
#login-form .actions .aux a:hover{ text-decoration:underline; }
#status{ font-size:13px; min-height:1.2em; text-align:center; }
#status:empty{ display:none; }

footer.footer,#copyright{
  display:flex; align-items:center; justify-content:center; gap:4px;
  width:fit-content; max-width:92%;
  margin:22px auto 0; padding:clamp(8px,2vw,12px) clamp(14px,3vw,18px);
  color:rgba(255,255,255,.90); font-size:clamp(12px,.5vw + .6rem,14px); text-align:center;
  background:linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.06));
  border:1px solid rgba(255,255,255,.22); border-radius:clamp(10px,1vw,14px);
  backdrop-filter:blur(14px) saturate(130%); -webkit-backdrop-filter:blur(14px) saturate(130%);
  box-shadow:0 10px 24px rgba(0,0,0,.28);
  transition:transform .25s ease, box-shadow .25s ease; animation:floatIn .32s ease both .12s;
}
footer.footer:hover,#copyright:hover{ transform:translateY(-2px); box-shadow:0 8px 26px rgba(0,0,0,.35); }
body.login footer:not(#copyright),
body:has(#login-form) footer:not(#copyright){ display:none; }

/* =========================================================
   Password Toggle (eye icon)
   ========================================================= */
.pwd-wrap{ position:relative; }
.pwd-wrap>input[type="password"],
.pwd-wrap>input[type="text"]{ padding-right:56px !important; line-height:1.25; }
.pwd-toggle{
  position:absolute; right:14px; top:50%; transform:translateY(-50%);
  width:32px; height:32px; display:inline-flex; align-items:center; justify-content:center;
  border:0; background:none; border-radius:50%; color:#274bb7; cursor:pointer;
  -webkit-appearance:none; appearance:none;
  transition:background .15s ease, transform .12s ease, color .15s ease;
}
.pwd-toggle:hover{ background:rgba(39,75,183,.08); }
.pwd-toggle:active{ transform:translateY(calc(-50% + 1px)); }
.pwd-toggle svg{ width:18px; height:18px; stroke:currentColor; stroke-width:1.8; stroke-linecap:round; stroke-linejoin:round; vector-effect:non-scaling-stroke; }
.icon-eye-off{ display:none; }
.pwd-toggle.visible .icon-eye{ display:none; }
.pwd-toggle.visible .icon-eye-off{ display:block; }
@supports (-webkit-touch-callout:none){ .pwd-toggle{ top:calc(50% - .5px); } }

/* =========================================================
   Responsive
   ========================================================= */
@media (max-width:900px){
  .dashboard-grid{ grid-template-columns:1fr; }
}
@media (max-width:880px){
  .menu-item>.menu-trigger{ padding:6px 12px; font-size:13px; }
  header.tworow .menu-bar{ gap:10px; }
}
@media (max-width:720px){
  header.tworow{
    grid-template-columns:1fr;
    grid-template-rows:auto auto auto;
    grid-template-areas:
      "logo"
      "utils"
      "nav";
    justify-items:center;
  }
  header.tworow .top-utils{ justify-self:center; }
  header.tworow .menu-bar{ justify-content:center; }
}

/* === Force the header into two rows when class="tworow" === */
header.tworow {
  /* make a 2-row grid */
  display: grid;
  grid-template-columns: auto 1fr auto;
  grid-template-rows: auto auto;
  grid-template-areas:
    "logo . utils"
    "nav  nav nav";
  row-gap: 10px;
  column-gap: 16px;
}

/* place children into those areas */
header.tworow .logo-section { grid-area: logo; }
header.tworow .top-utils    { grid-area: utils; justify-self: end; }
header.tworow .menu-bar     {
  grid-area: nav;            /* this makes it the full second row */
  justify-self: stretch;
  width: 100%;
  padding-top: 6px;
  border-top: 1px solid rgba(255,255,255,.25);
  justify-content: flex-start;   /* instead of center */
  gap: 12px;
}

/* kill the centering from the base rule for this header only */
header.tworow .menu-bar { justify-self: stretch; }

/* small screens: stack logo / utils / nav */
@media (max-width: 720px){
  header.tworow{
    grid-template-columns: 1fr;
    grid-template-rows: auto auto auto;
    grid-template-areas:
      "logo"
      "utils"
      "nav";
    justify-items: center;
  }
  header.tworow .top-utils { justify-self: center; }
  header.tworow .menu-bar  { justify-content: center; }
}

/* --- Force two-row header layout --- */
header.tworow {
  display: grid;
  grid-template-columns: auto 1fr auto;
  grid-template-rows: auto auto;               /* two rows */
  column-gap: 16px;
  row-gap: 10px;
}

/* Place items */
header.tworow .logo-section { grid-column: 1; grid-row: 1; }
header.tworow .top-utils    { grid-column: 3; grid-row: 1; justify-self: end; }

/* Make nav occupy the whole second row */
header.tworow .menu-bar {
  grid-column: 1 / -1;                          /* span all columns */
  grid-row: 2;                                   /* second row */
  justify-self: stretch;                         /* override earlier center */
  width: 100%;
  padding-top: 6px;
  border-top: 1px solid rgba(255,255,255,.25);
}

/* === HARD OVERRIDE: force two-row header layout === */
header.tworow {
  display: grid !important;
  grid-template-columns: auto 1fr auto !important;
  grid-template-rows: auto auto !important;   /* <- row for nav */
  column-gap: 16px;
  row-gap: 10px;
}

/* Put children into explicit grid cells */
header.tworow > .logo-section {
  grid-column: 1 !important;
  grid-row: 1 !important;
}

header.tworow > .top-utils {
  grid-column: 3 !important;
  grid-row: 1 !important;
  justify-self: end !important;
}

header.tworow > .menu-bar {
  grid-column: 1 / -1 !important;  /* span full width */
  grid-row: 2 !important;          /* second row */
  justify-self: stretch !important;
  width: 100% !important;
  padding-top: 6px;
  border-top: 1px solid rgba(255,255,255,.25);
}
